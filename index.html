<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß± üíß</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        h1 {
            margin: 20px 0 10px;
        }
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 10px auto;
        }
        button {
            font-size: 1.2em;
            padding: 10px 20px;
            margin-top: 10px;
        }
        #photoContainer {
            position: relative; /* Enable positioning of child elements */
            display: inline-block; /* Ensure the container is only as wide as the image */
            margin-top: 10px;
        }

        .click-area {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 50%;
            cursor: pointer;
        }
        .click-area.left {
            left: 0;
        }
        .click-area.right {
            right: 0;
        }

        
        .choice-btn {
            font-size: 1em;
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .popup {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Higher than other content */
            left: 50%; /* Center horizontally */
            top: 80%; /* Center vertically */
            transform: translate(-50%, -50%); /* Adjust positioning */
            width: 80%; /* Width of the popup */
            max-height: 30%; /* Maximum height of the popup */
            background-color: rgba(255, 255, 255, 1); /* White background with some opacity */
            border: 1px solid #888; /* Border for the popup */
            border-radius: 8px; /* Rounded corners */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); /* Shadow effect */
            padding: 5px; /* Padding inside the popup */
            display: flex; /* Flexbox layout */
            flex-direction: column; /* Vertical stacking */
        }
        
        .popup-content {
            flex: 1; /* Allow the content to grow */
            display: flex; /* Flexbox for layout */
            flex-direction: column; /* Vertical stacking */
            max-height: 100%; /* Make sure it does not exceed the popup height */
            overflow-y: auto; /* Enable vertical scrolling */
        }

        /* For WebKit browsers (Chrome, Safari) */
        .popup-content::-webkit-scrollbar {
            width: 8px; /* Width of the scrollbar */
        }
        
        .popup-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 1); /* Background of the track */
        }
        
        .popup-content::-webkit-scrollbar-thumb {
            background: black; /* Color of the scrollbar thumb */
            border-radius: 4px; /* Rounded edges for the thumb */
        }
        
        /* For Firefox */
        .popup-content {
            scrollbar-color: black rgba(255, 255, 255, 1); /* thumb color and track color */
        }
                
        .text-container {
            flex: 1; /* Allow the text container to grow */
            overflow-y: auto; /* Enable vertical scrolling */
        }

        .close-button {
            margin: 20px 0; /* Add top and bottom margin */
        }
        
    </style>
</head>
<body>
    <h1>Benvenuto al muro üß± del pianto üíß</h1>
    
    <div id="photoContainer">
        <img id="randomPhoto" src="" alt="" style="display:none;">
        <div class="click-area left"></div>
        <div class="click-area right"></div>
    </div>

    <div id="choicesContainer">
        <!-- Four choice buttons will go here -->
        <button class="choice-btn" id="choice1">Soldi</button>
        <button class="choice-btn" id="choice2">Amore</button>
        <button class="choice-btn" id="choice3">Studio</button>
        <button class="choice-btn" id="choice4">Salute</button>
    </div>

    <button id="showAnswerButton">Mostra risposta</button>

        <!-- Popup Structure -->
    <div id="popup" class="popup">
        <div class="popup-content">
            <div class="text-container">
                <p id="answerText">This is the right text!</p>
            </div>
            <button id="closePopupButton" class="close-button">Chiudi</button>
        </div>
    </div>

    <script>
        let popupVisible = false; // Variable to track if the popup is visible
        
        const photos = [
            'foto/1.jpg',
            'foto/2.jpg',
            'foto/3.jpg',
            'foto/4.jpg',
            'foto/5.jpg',
            'foto/6.jpg',
            'foto/7.jpg',
            'foto/8.jpg',
            'foto/9.jpg',
            'foto/10.jpg',
            'foto/11.jpg',
        ];
        const photoTexts = [
            '<b>15 Maggio 2023</b>. La foto forse pi√π emblematica degli ultimi anni. Miriam compra su Vinted un paio di Airpods. Sono nuove e costano 70‚Ç¨, un prezzo molto conveniente, che farebbe insospettire chiunque. Ma non lei. Le arrivano, le prova e dice che non funzionano bene. Allora andiamo all\' Apple Store pi√π vicino per capirne di pi√π. Salta fuori che sono un clone cinese. Miriam la prende male. Il resto √® storia.',
            '<b>10 Ottobre 2022</b>. Giorno della laurea. Miriam si sveglia alle 7:00 e LETTERALMENTE la prima cosa che fa dopo aver alzato la mascherina dagli occhi √® esordire con un principio di piantino perch√® "ho dormito solo 3 ore". Fortunatamente si placa subito e nemmeno una lacrima viene versata. Sono contento. Purtroppo per√≤ √® solo un\' illusione: 30 secondi dopo si alza e va in bagno, ribadendo che "ho paura di accendere la luce e vedere che aspetto ho". Beh quella maledetta luce la accende e sotto i suoi occhi trova due borse che arrivano a terra. Esplode in un pianto isterico accompagnato da commenti del tipo "di questo giorno mi rimarranno solo le foto e ho questo aspetto gneeeee". Poco dopo si fionda in cucina e si strofina un cubetto di ghiaccio in faccia per sgonfiare le Gucci che ha sotto agli occhi. Serve a poco. Tra me e me penso che la giornata inizia male.',
            '<b>5 Marzo 2022</b>. Qualche giorno prima Miriam risulta positiva al Covid. Da brava cittadina quale √®, si isola nell\' appartamento di Via Pennato nel quale vive. E\' una settimana difficile, fatta di sforzi e di rinunce. Durante questi giorni, incurante del prezzo dei tamponi (cosa MOLTO strana per lei) Miriam si testa di continuo. Finalmente si convince a rallentare la sua smania e aspettare il Sabato per ri-testarsi. Il giorno fatidico arriva e lei √® pronta. Fa il tampone in diretta FaceTime con me. Risulta positiva. Non √® contenta.',
            '<b>27 Agosto 2023</b>. Questa foto non ha una spiegazione. Miriam piange mentre mangia un ghiacciolo.',
            '<b>25 Giugno 2022</b>. Tra una settimana parto per il tirocinio che mi terr√† lontano da Udine per sei brevissimi mesi. Miriam sfoga la sua frustrazione in biblioteca umanistica. Dal Gennaio dello stesso anno fino a quel momento, come una vedova Miriam si lascia andare a piantini gi√† nostalgici (non sono ancora partito) con una frequenza di 2/3 a settimana. Sono mesi lunghi e difficili.',
            '<b>17 Giugno 2024</b>. Miriam sta contemporaneamente scrivendo la tesi (quanti piantini!) e preparando medicina interna. La frustrazione √® alle stelle, e io con contribuisco dicendole in continuo che non mi sembra un\' adulta funzionale per come sta gestendo la sua vita. Decide di paccare l\'esame. Da l√¨ in poi una montagna russa di emozioni, che si alternano tra la tristezza e la disperazione, passando per l\'odio verso "quella puttana di Federica la specializzanda", sua correlatrice. Una sera di giugno questi sentimenti culminano in un piantino che addirittura arriva mentre si lava i denti. Segnale chiaro e palese della seriet√† della situazione.',
            '<b>17 Dicembre 2022</b>. Momento di gelosia retroattiva. Siamo in macchina al semaforo di piazzale Chiavris. In letteralmente 10 secondi Miriam passa dal ridere fragorosamente a piangere pensando a una tipa del passato. Poco dopo si riprende e passa oltre. Uno dei piantini pi√π maturi mai fatti.',
            '<b>3 Febbraio 2024</b>. Miriam si lamenta della sua \'condizione\' di studentessa scapestrata. Vuole finire di studiare il prima possibile e iniziare a fatturare. In questa foto √® cosi disperata che sembra le si stia sciogliendo la faccia.',
            '<b>20 Novembre 2022</b>. Durante il tirocinio ci sentiamo compulsivamente su FaceTime. Per mantenere lo stesso ritmo che aveva prima della mia partenza, Miriam continua a piangere in chiamata ogni 2/3 giorni per i motivi pi√π disparati che coinvolgano anche lontanamente la nostra relazione. Come quella volta che pianse perch√® le dissi che era arrivata una nuova tirocinante italiana. In questo fotogramma non ricordo esattamente il motivo della crisi, ma quasi certamente era legato alla frase "mi manchi tanto". Veramente una sottona.',
            '<b>19 Giugno 2022</b>. Studiamo tutto il giorno a casa dei miei genitori. Miriam finisce il pomeriggio cos√¨ stanca che dice che sta per addormentarsi (sono le 20:08 al momento di questa foto). Allora prende la bici e torna a casa sua in Via del Freddo. Mi chiama tipo 3 minuti dopo dicendo che √® caduta sul marciapiede e si √® sbucciata un ginocchio. Le vado incontro e la trovo che porta il bolide rosa a mano e piange. Si giustifica dicendo che era troppo stanca per guidare (LA BICI).',
            '<b>19 Settembre 2024</b>. Tra poco √® il turno di Miriam per l\' esame di pediatria, l\' ultimo. Lacrime sul suo volto non se ne vedono, solo disperazione. Ma questa foto non √® qui per quello che √® stato, ma per quello che poteva essere. Per quello che sarebbe successo se l\' esame fosse andato male (voto <30). Non saremmo qui a festeggiare. Io forse sarei single. La prof di pediatria morta. Il reparto esploso. Miriam sarebbe ancora in lacrime. Grazie al cielo nulla di tutto questo √® stato e mai sar√†.',
        ];

       // Correct answer indices corresponding to each photo
        const correctAnswers = [
            [0,],
            [2],
            [3,], 
            [0,1,2,3], 
            [1,],
            [2,],
            [1,],
            [0,2],
            [1,],
            [3,],
            [1,],
        ];

        let currentIndex = 0;

        // Function to preload images
        function preloadImages(photoArray) {
            photoArray.forEach(src => {
                const img = new Image();
                img.src = src;
            });
        }

        // Function to show the next photo in order
        function showNextPhoto() {
            if(popupVisible)
                return;
            currentIndex = (currentIndex + 1) % photos.length;
            displayPhoto();
            resetChoices();
        }

        // Function to show the previous photo in order
        function showPrevPhoto() {
            if(popupVisible)
                return;
            currentIndex = (currentIndex - 1 + photos.length) % photos.length;
            displayPhoto();
            resetChoices();
        }

        // Function to display the current photo
        function displayPhoto() {
            const img = document.getElementById('randomPhoto');
            img.src = photos[currentIndex];
            img.style.display = 'block';
        }

        // Function to reset the choice button colors
        function resetChoices() {
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(button => {
                button.style.backgroundColor = '';
                button.disabled = false;
            });
        }

        function checkAnswer(selectedIndex) {
            const correctIndices = correctAnswers[currentIndex];
            const buttons = document.querySelectorAll('.choice-btn');
            const selectedButton = buttons[selectedIndex];
        
            // Check if the selected index is in the correct indices array
            const isCorrect = correctIndices.includes(selectedIndex);
        
            // Set button colors based on correctness
            if (isCorrect) {
                selectedButton.style.backgroundColor = '#baffb9'; // Correct answer
            } else {
                selectedButton.style.backgroundColor = '#ffb09c'; // Wrong answer
            }
        
            // Disable all buttons after a choice
            buttons.forEach((button, index) => {
                button.disabled = true; // Disable all buttons
                if (correctIndices.includes(index)) {
                    button.style.backgroundColor = '#baffb9'; // Show other correct answers in green
                }
            });
        }

        // Add event listeners for the four choice buttons
        document.getElementById('choice1').addEventListener('click', () => checkAnswer(0));
        document.getElementById('choice2').addEventListener('click', () => checkAnswer(1));
        document.getElementById('choice3').addEventListener('click', () => checkAnswer(2));
        document.getElementById('choice4').addEventListener('click', () => checkAnswer(3));

        // Preload images and show the first photo when the page is loaded
        window.onload = () => {
            preloadImages(photos);
            displayPhoto();
            document.getElementById("popup").style.display = "none"; // Ensure the popup is hidden on load
        };

        // Event listener for the next/previous photo buttons
        document.querySelector('.click-area.left').addEventListener('click', showPrevPhoto);
        document.querySelector('.click-area.right').addEventListener('click', showNextPhoto);

        // JavaScript for managing the popup
        // Function to get the right answer based on your logic
        function getAnswerForPhoto(photoIndex) {
            // Return the answer based on the index (0-based)
            return photoTexts[photoIndex]; // Adjust photoIndex according to your requirements
        }

        document.getElementById("showAnswerButton").onclick = function() {
            const answer = getAnswerForPhoto(currentIndex);
            document.getElementById("answerText").innerHTML = answer;
            document.getElementById("popup").style.display = "flex"; // Use flex to allow proper layout
            popupVisible = true;
        }
        
        document.getElementById("closePopupButton").onclick = function() {
            document.getElementById("popup").style.display = "none"; // Hide the popup
            popupVisible = false;
        }


        
    </script>
</body>
</html>
