<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ§± ðŸ’§</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        h1 {
            margin: 20px 0 10px; /* Adjust spacing above and below the header */
        }
        img {
            max-width: 100%; /* Image will never exceed screen width */
            height: auto; /* Maintains aspect ratio */
            display: block;
            margin: 10px auto; /* Centers image with less spacing */
        }
        button {
            font-size: 1.2em;
            padding: 10px 20px;
            margin-top: 10px; /* Reduced margin above the button */
        }
        #photoContainer {
            margin-top: 10px; /* Bring the image container closer to the button */
        }
        #photoCounter {
            font-size: 1.2em;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Benvenuto al muro ðŸ§± del pianto ðŸ’§</h1>
    <button id="randomPhotoButton">Inizia</button>
    <div id="photoContainer">
        <img id="randomPhoto" src="" alt="" style="display:none;">
    </div>

    <!-- JavaScript placed before closing body tag -->
    <script>
        const specialPhoto = 'foto/specialPhoto.jpg'; // The special photo to show first
        const photos = [
            'foto/photo1.jpg',
            'foto/photo2.jpg',
            'foto/photo3.jpg',
            'foto/photo4.jpg',
            'foto/photo5.jpg',
            'foto/photo6.jpg',
            'foto/photo7.jpg',
            'foto/photo8.jpg',
            'foto/photo9.jpg',
            'foto/photo10.jpg',
            'foto/photo11.jpg',
            'foto/photo12.jpg'
        ];

        let currentIndex = 0;
        let specialPhotoShown = false; // Track whether the special photo has been shown

        // Function to preload images
        function preloadImages(photoArray) {
            photoArray.forEach(src => {
                const img = new Image();
                img.src = src;
            });
        }

        // Function to show the next photo in order
        function showNextPhoto() {
            const img = document.getElementById('randomPhoto');
            const photoCounter = document.getElementById('photoCounter');
            const button = document.getElementById('randomPhotoButton');

            // Check if the special photo was already shown
            if (!specialPhotoShown) {
                img.src = specialPhoto; // Show the special photo first
                img.style.display = 'block'; // Display the image
                specialPhotoShown = true; // Mark that the special photo has been shown
                button.textContent = 'Scorri i piantini'; // Change button text after special photo is shown
            } else {
                // Proceed with the regular photos
                if (currentIndex >= photos.length) {
                    currentIndex = 0; // Loop back to the first photo
                }

                button.textContent = 'Prossima foto'; // Change button text after special photo is shown

                img.src = photos[currentIndex]; // Show the next photo in the array
                img.style.display = 'block'; // Display the image
                // Update the counter text (index + 1 because arrays are 0-based)
                photoCounter.textContent = `Foto ${currentIndex + 1} di ${photos.length}`;

                currentIndex++; // Move to the next photo for the next click
            }
        }

        // Button click event listener
        const button = document.getElementById('randomPhotoButton');
        button.addEventListener('click', showNextPhoto);

        // Preload images and show the first photo when the page is loaded
        window.onload = () => {
            preloadImages([specialPhoto, ...photos]);  // Preload the special and regular photos
            showNextPhoto();        // Automatically show the first (special) photo
        };
    </script>
</body>
</html>
